<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historique des Onglets</title>
    <link rel="stylesheet" href="styles/popup.css">
</head>
<body>
    <div class="container">
        <!-- En-tÃªte -->
        <header class="header">
            <div class="header-content">
                <div class="header-title">
                    <h1>ğŸ•’ Historique des Onglets</h1>
                    <span class="entry-count" id="entryCount">0 onglets</span>
                </div>
                <div class="header-actions">
                    <button class="btn btn-icon" id="refreshBtn" title="Actualiser">
                        <span class="icon">ğŸ”„</span>
                    </button>
                    <button class="btn btn-icon" id="clearBtn" title="Effacer tout">
                        <span class="icon">ğŸ—‘ï¸</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Barre de recherche -->
        <div class="search-container">
            <div class="search-box">
                <span class="search-icon">ğŸ”</span>
                <input 
                    type="text" 
                    id="searchInput" 
                    placeholder="Rechercher dans l'historique..." 
                    autocomplete="off"
                />
                <button class="search-clear" id="searchClear" title="Effacer la recherche">
                    <span class="icon">âœ•</span>
                </button>
            </div>
        </div>

        <!-- Filtres -->
        <div class="filters">
            <div class="filter-tabs">
                <button class="filter-tab active" data-filter="all">
                    <span class="icon">ğŸ“‹</span>
                    Tous
                </button>
                <button class="filter-tab" data-filter="today">
                    <span class="icon">ğŸ“…</span>
                    Aujourd'hui
                </button>
                <button class="filter-tab" data-filter="video">
                    <span class="icon">ğŸ¥</span>
                    VidÃ©os
                </button>
                <button class="filter-tab" data-filter="streaming">
                    <span class="icon">ğŸ“º</span>
                    Streaming
                </button>
            </div>
        </div>

        <!-- Zone de contenu principal -->
        <main class="main-content">
            <!-- Ã‰tat de chargement -->
            <div class="loading-state" id="loadingState">
                <div class="spinner"></div>
                <p>Chargement de l'historique...</p>
            </div>

            <!-- Ã‰tat vide -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <div class="empty-icon">ğŸ“­</div>
                <h3>Aucun onglet enregistrÃ©</h3>
                <p>Naviguez sur le web pour voir vos onglets apparaÃ®tre ici automatiquement.</p>
            </div>

            <!-- Ã‰tat de recherche vide -->
            <div class="empty-search-state" id="emptySearchState" style="display: none;">
                <div class="empty-icon">ğŸ”</div>
                <h3>Aucun rÃ©sultat trouvÃ©</h3>
                <p>Essayez avec des termes diffÃ©rents.</p>
            </div>

            <!-- Liste des onglets -->
            <div class="tab-list" id="tabList">
                <!-- Les Ã©lÃ©ments seront gÃ©nÃ©rÃ©s dynamiquement -->
            </div>
        </main>

        <!-- Pied de page -->
        <footer class="footer">
            <div class="footer-content">
                <span class="footer-text">
                    DerniÃ¨re mise Ã  jour: <span id="lastUpdate">-</span>
                </span>
                <div class="footer-actions">
                    <button class="btn btn-small" id="settingsBtn">
                        <span class="icon">âš™ï¸</span>
                        ParamÃ¨tres
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <!-- Modal de confirmation -->
    <div class="modal-overlay" id="confirmModal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">Confirmer l'action</h3>
                <button class="modal-close" id="modalClose">âœ•</button>
            </div>
            <div class="modal-body">
                <p id="modalMessage">ÃŠtes-vous sÃ»r de vouloir continuer ?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="modalCancel">Annuler</button>
                <button class="btn btn-danger" id="modalConfirm">Confirmer</button>
            </div>
        </div>
    </div>

    <!-- Modal des paramÃ¨tres -->
    <div class="modal-overlay" id="settingsModal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3>ParamÃ¨tres</h3>
                <button class="modal-close" id="settingsModalClose">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label class="setting-label">
                        <input type="checkbox" id="autoCleanup" />
                        <span class="checkmark"></span>
                        Nettoyage automatique (garder 100 entrÃ©es max)
                    </label>
                </div>
                <div class="setting-group">
                    <label class="setting-label">
                        <input type="checkbox" id="showFavicons" />
                        <span class="checkmark"></span>
                        Afficher les favicons des sites
                    </label>
                </div>
                <div class="setting-group">
                    <label class="setting-label">
                        <input type="checkbox" id="groupByDomain" />
                        <span class="checkmark"></span>
                        Grouper par domaine
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="saveSettings">Sauvegarder</button>
            </div>
        </div>
    </div>

    <script type="module" src="popup.js"></script>
</body>
</html>